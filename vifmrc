" emacs editor
set vicmd="em -nw"

" time format
set timefmt="%d %b %H:%M"

" view columns
windo set viewcolumns=-80%{name}..,10%{mtime},10%{size}

" status line
set statusline=" %-45t   %A   %10u:%-10g   %d   %8s   (selected %E)"

" search
set ignorecase
set smartcase
set nohlsearch
set incsearch

" yank directory
nnoremap yd :!echo %d | xsel --clipboard --input %i<cr>
" yank file
nnoremap yf :!echo %c | xsel --clipboard --input %i<cr>
" yank path
nnoremap ydf :!echo %c:p | xsel --clipboard --input %i<cr>

" home directory
nnoremap ~ :cd<cr>
" last directory
nnoremap - :cd -<cr>
" make dir
nnoremap md :!mkdir -p<space>
" touch file
nnoremap mf :!touch<space>

" PDF, DjVu, PS
filextype *.pdf,*.djvu,*.ps,*.eps okular %c &

" JPG, PNG
filextype *.jpg,*.png gwenview %c &

" HTML
filextype *.html,*.svg google-chrome %c &

" TAR, TAR.GZ, TAR.BZ2, TAR.TXZ
filetype *.tar,*.tar.gz,*.tgz,*.tar.bz2,*.tbz2,*.tar.xz,*.txz
  \ FUSE_MOUNT|archivemount %SOURCE_FILE %DESTINATION_DIR
fileviewer *.tar tar -tf %c
fileviewer *.tar.gz,*.tgz tar -tzf %c
fileviewer *.tar.bz2,*.tbz2 tar -tjf %c
fileviewer *.tar.txz,*.txz xz --list %c

" ZIP, JAR, WAR
filetype *.zip,*.jar,*.war
  \ FUSE_MOUNT|fuse-zip %SOURCE_FILE %DESTINATION_DIR
fileviewer *.zip,*.jar,*.war zip -sf %c